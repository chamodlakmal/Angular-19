<div class="flex w-full justify-center p-3">
  <mat-card
    appearance="outlined"
    class="w-full rounded-lg p-4 md:w-1/2 lg:w-1/3"
  >
    <div class="mb-4 flex flex-col items-center">
      <app-logo />
      <div class="mt-4 text-xl font-bold">Register</div>
    </div>

    <form
      [formGroup]="registerForm"
      (ngSubmit)="register()"
      class="flex flex-col justify-center space-y-1"
    >
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <mat-icon matPrefix fontIcon="person" />
        <input
          [formControlName]="REGISTER_FORM_PROPS.EMAIL"
          matInput
          placeholder="chamod@example.com"
        />
        <mat-error>{{
          getError(
            registerForm.get(REGISTER_FORM_PROPS.EMAIL)!,
            REGISTER_FORM_PROPS.EMAIL
          )
        }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>User Name</mat-label>
        <mat-icon matPrefix fontIcon="badge" />
        <input
          [formControlName]="REGISTER_FORM_PROPS.USER_NAME"
          matInput
          placeholder="Chamod"
        />
        <mat-error>{{
          getError(
            registerForm.get(REGISTER_FORM_PROPS.USER_NAME)!,
            REGISTER_FORM_PROPS.USER_NAME
          )
        }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <mat-icon matPrefix fontIcon="lock" />
        <input
          [formControlName]="REGISTER_FORM_PROPS.PASSWORD"
          matInput
          [type]="hide() ? 'password' : 'text'"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="clickEvent($event)"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide()"
        >
          <mat-icon class="mr-4">{{
            hide() ? "visibility_off" : "visibility"
          }}</mat-icon>
        </button>
        <mat-error>
          {{
            getError(
              registerForm.get(REGISTER_FORM_PROPS.PASSWORD)!,
              REGISTER_FORM_PROPS.PASSWORD
            )
          }}
        </mat-error>
      </mat-form-field>
      <button type="button" mat-button [routerLink]="'/'" class="mb-4">
        Already have an Account?
      </button>
      <button [disabled]="registerForm.invalid" mat-flat-button>
        @if (isLoading()) {
          <mat-spinner diameter="30"></mat-spinner>
        } @else {
          Register
        }
      </button>
    </form>
  </mat-card>
</div>
