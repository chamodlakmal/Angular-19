<p-toast></p-toast>
<p-confirmpopup />
<p-card>
  <p-table [value]="expenses()" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template #header>
      <tr>
        <th>Date</th>
        <th>Category</th>
        <th>Description</th>
        <th>Amount</th>
        <th>Payment Method</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template #body let-expense>
      <tr>
        <td>{{ expense.date | date }}</td>
        <td>{{ expense.category.name }}</td>
        <td>{{ expense.description }}</td>
        <td>{{ expense.amount | currency : "LKR " }}</td>
        <td>{{ expense.paymentMethod.name }}</td>
        <td>
          <p-button
            icon="pi pi-pencil"
            aria-label="Edit"
            severity="info"
            class="me-2"
            [routerLink]="['/expenses', expense.id, 'edit']"
          />
          <p-button
            icon="pi pi-trash"
            (onClick)="deleteExpense(expense.id, $event)"
            aria-label="Delete"
            severity="danger"
          />
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
